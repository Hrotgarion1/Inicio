import{T as y,d as w,p as $,o as c,e as h,b as t,u as s,w as m,F as x,Z as S,a as u,t as v,i as _,c as p,f,j as q}from"./app-f8a7dae6.js";import{_ as U}from"./AppLayout-99bc2a8c.js";import{_ as i,a as d}from"./TextInput-e35b6d4f.js";import{_ as n}from"./InputLabel-39c2bea3.js";import{_ as C}from"./PrimaryButton-48d448cc.js";import{S as E}from"./sweetalert2.all-c6390afb.js";const B={class:"font-semibold text-xl text-gray-800 leading-tight"},N={class:"py-12"},j={class:"max-w-xl mx-auto sm:px-6 lg:px-8"},L={class:"p-4 bg-green-100 overflow-hidden shadow-sm sm:rounded-lg"},A=["onSubmit"],F={class:"px-2 py-2"},M={class:"fa-solid fa-save"},P={class:"ml-2"},T={class:"fa-solid fa-trash"},D={class:"ml-2"},H={__name:"Edit",props:{producto:{type:Object}},setup(k){const r=k,e=y({id:r.producto.id,code:r.producto.code,name:r.producto.name,cant:r.producto.cant,stock:r.producto.stock,ubica:r.producto.ubica,util:r.producto.util,sitio:r.producto.sitio,descript:r.producto.descript}),g=w(!1);$(()=>g.value,o=>{o&&(e.cant.toString(),e.cant<=e.stock&&b(),g.value=!1)});const V=async()=>{g.value=!0;try{await e.patch(route("productos.update",{producto:e.id})),e.reset();const o=await b(e.id);o&&o.isConfirmed&&router.push(route("productos.index"))}catch(o){console.error("Error al enviar el formulario:",o)}},b=()=>{e.cant>e.stock&&E.fire({title:"Avisar a Luis",icon:"info",confirmButtonText:'<i class="fa-solid fa-check"></i> Entendido'})};return(o,l)=>(c(),h(x,null,[t(s(S),{title:o.$t("Product Edit")},null,8,["title"]),t(U,null,{header:m(()=>[u("h2",B,v(o.$t("Product Edit")),1)]),default:m(()=>[u("div",N,[u("div",j,[u("div",L,[u("form",{onSubmit:_(V,["prevent"]),class:"mt-6 space-y-6 max-w-xl"},[o.$page.props.user.permissions.includes("eliminar producto")?(c(),p(n,{key:0,for:"code",value:o.$t("Code")},null,8,["value"])):f("",!0),o.$page.props.user.permissions.includes("eliminar producto")?(c(),p(i,{key:1,id:"code",modelValue:s(e).code,"onUpdate:modelValue":l[0]||(l[0]=a=>s(e).code=a),autofocus:"",required:"",type:"text",class:"mt-1 block w-full"},null,8,["modelValue"])):f("",!0),t(d,{message:s(e).errors.code,class:"mt-2"},null,8,["message"]),o.$page.props.user.permissions.includes("eliminar producto")?(c(),p(n,{key:2,for:"name",value:o.$t("Name")},null,8,["value"])):f("",!0),o.$page.props.user.permissions.includes("eliminar producto")?(c(),p(i,{key:3,id:"name",modelValue:s(e).name,"onUpdate:modelValue":l[1]||(l[1]=a=>s(e).name=a),autofocus:"",required:"",type:"text",class:"mt-1 block w-full"},null,8,["modelValue"])):f("",!0),t(d,{message:s(e).errors.name,class:"mt-2"},null,8,["message"]),t(n,{for:"cant",value:o.$t("Quantity")},null,8,["value"]),t(i,{id:"cant",modelValue:s(e).cant,"onUpdate:modelValue":l[2]||(l[2]=a=>s(e).cant=a),value:s(e).cant.toString(),autofocus:"",required:"",type:"text",class:"mt-1 block w-full"},null,8,["modelValue","value"]),t(d,{message:s(e).errors.cant,class:"mt-2"},null,8,["message"]),t(n,{for:"stock",value:o.$t("Minimum Stock")},null,8,["value"]),t(i,{id:"stock",modelValue:s(e).stock,"onUpdate:modelValue":l[3]||(l[3]=a=>s(e).stock=a),value:s(e).stock.toString(),autofocus:"",required:"",type:"text",class:"mt-1 block w-full"},null,8,["modelValue","value"]),t(d,{message:s(e).errors.cant,class:"mt-2"},null,8,["message"]),t(n,{for:"ubica",value:o.$t("Location")},null,8,["value"]),t(i,{id:"ubica",modelValue:s(e).ubica,"onUpdate:modelValue":l[4]||(l[4]=a=>s(e).ubica=a),autofocus:"",required:"",type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),t(d,{message:s(e).errors.ubica,class:"mt-2"},null,8,["message"]),t(n,{for:"util",value:o.$t("Jig")},null,8,["value"]),t(i,{id:"util",modelValue:s(e).util,"onUpdate:modelValue":l[5]||(l[5]=a=>s(e).util=a),autofocus:"",required:"",type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),t(d,{message:s(e).errors.util,class:"mt-2"},null,8,["message"]),t(n,{for:"sitio",value:o.$t("Location of the jig")},null,8,["value"]),t(i,{id:"sitio",modelValue:s(e).sitio,"onUpdate:modelValue":l[6]||(l[6]=a=>s(e).sitio=a),autofocus:"",required:"",type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),t(d,{message:s(e).errors.sitio,class:"mt-2"},null,8,["message"]),t(n,{for:"descript",value:o.$t("Notes")},null,8,["value"]),t(i,{id:"descript",modelValue:s(e).descript,"onUpdate:modelValue":l[7]||(l[7]=a=>s(e).descript=a),autofocus:"",required:"",type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),t(d,{message:s(e).errors.descript,class:"mt-2"},null,8,["message"]),u("div",F,[t(C,{disabled:s(e).processing,class:"mx-2"},{default:m(()=>[u("i",M,[u("span",P,v(o.$t("Save")),1)])]),_:1},8,["disabled"]),t(s(q),{href:o.route("productos.index"),class:"inline-flex items-center justify-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-500 active:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150"},{default:m(()=>[u("i",T,[u("span",D,v(o.$t("Cancel")),1)])]),_:1},8,["href"])])],40,A)])])])]),_:1})],64))}};export{H as default};
