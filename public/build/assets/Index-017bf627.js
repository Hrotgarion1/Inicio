import{_ as R}from"./AppLayout-b4d744cc.js";import{a as I,L as V}from"./Table-6512527f.js";import{d as c,T as k,o as d,c as B,w as l,b as n,a as s,t as r,e as u,h as $,u as t,F as x,g as E,m as L}from"./app-3c428ad9.js";import{_ as M}from"./DangerButton-b628a6cd.js";import{_ as T}from"./PrimaryButton-d424948f.js";import{_ as D,a as O}from"./TextInput-e598fada.js";import{_ as A}from"./InputLabel-dafdac75.js";import{_ as F}from"./WarningButton-63daa0b8.js";import{_ as P}from"./Modal-0e859975.js";import{S as j}from"./sweetalert2.all-aed6f662.js";import"./_plugin-vue_export-helper-c27b6911.js";const z=s("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," Roles ",-1),U={class:"px-2 py-2"},q={class:"px-2 py-2"},G={class:"px-2 py-2"},H={class:"border border-gray-400 px-2 py-2"},J={class:"border border-gray-400 px-2 py-2"},K={class:"border border-gray-400 px-2 py-2"},Q=s("i",{class:"fa-solid fa-edit"},null,-1),W={class:"p-3 text-lg font.medium text-hray-900"},X={class:"p-3"},Y={class:"px-4 pt-2 pb-4"},Z={class:"fa-solid fa-save"},ee={class:"ml-2"},ue={__name:"Index",props:{roles:Object},setup(C){const g=c(null),_=c(!1),p=c(""),v=c(1),y=c(""),S=C,a=k({name:""});k({});const N=(e,m,o)=>{_.value=!0,L(()=>g.value.focus()),v.value=e,y.value=o,e==1?p.value="Crear Rol":(p.value="Editar Rol",a.name=m)},f=()=>{_.value=!1,a.reset()},w=()=>{v.value==1?a.post(route("roles.store"),{onSuccess:()=>{b("Rol creado")}}):a.put(route("roles.update",y.value),{onSuccess:()=>{b("Rol actualizado")}})},b=e=>{a.reset(),f(),j.fire({title:e,icon:"success"})},i=S.roles;return(e,m)=>(d(),B(R,{title:e.$t("Role")},{header:l(()=>[z]),default:l(()=>[n(V,null,{col:l(()=>[s("th",U,r(e.$t("NAME")),1),s("th",q,r(e.$t("PERMISSIONS")),1),s("th",G,r(e.$t("ACCIONS")),1)]),row:l(()=>[(d(!0),u(x,null,$(t(i).data,o=>(d(),u("tr",{key:o.id,class:"text-gray-500 hover:bg-green-200"},[s("td",H,r(o.name),1),s("td",J,[(d(!0),u(x,null,$(o.permissions,h=>(d(),u("span",{class:"mx-2",key:h.id},r(h.name),1))),128))]),s("td",K,[n(F,{onClick:h=>N(2,o.name,o.id)},{default:l(()=>[Q]),_:2},1032,["onClick"])])]))),128))]),pagination:l(()=>[n(I,{total:t(i).total,to:t(i).to,from:t(i).from,links:t(i).links},null,8,["total","to","from","links"])]),_:1}),n(P,{show:_.value,onClose:f},{default:l(()=>[s("h2",W,r(p.value),1),s("div",X,[n(A,{for:"name",value:e.$t("Name")},null,8,["value"]),n(D,{id:"name",ref_key:"nameInput",ref:g,modelValue:t(a).name,"onUpdate:modelValue":m[0]||(m[0]=o=>t(a).name=o),type:"text",class:"mt-1 block w-3/4",placeholder:e.$t("Name")},null,8,["modelValue","placeholder"]),n(O,{message:t(a).errors.name,class:"mt-2"},null,8,["message"])]),s("div",Y,[n(T,{disabled:t(a).processing,onClick:w},{default:l(()=>[s("i",Z,[s("span",ee,r(e.$t("Save")),1)])]),_:1},8,["disabled"]),n(M,{class:"ml-3",disabled:t(a).processing,onClick:f},{default:l(()=>[E(r(e.$t("Cancel")),1)]),_:1},8,["disabled"])])]),_:1},8,["show"])]),_:1},8,["title"]))}};export{ue as default};
