import{d as h,p as Z,T as j,q as H,s as J,o as d,e as r,b as l,w as c,u as i,F as x,g as V,Z as X,a as e,t as o,l as B,x as D,y as z,h as N,O as Y,m as ee,f as w}from"./app-f8a7dae6.js";import{_ as te}from"./AppLayout-99bc2a8c.js";import{_ as K}from"./DangerButton-3d00ab86.js";import{_ as g,a as f}from"./TextInput-e35b6d4f.js";import{_ as b}from"./InputLabel-39c2bea3.js";import{_ as R}from"./PrimaryButton-48d448cc.js";import{_ as q}from"./WarningButton-b755a019.js";import{_ as se}from"./Modal-1717b505.js";import{S as F}from"./sweetalert2.all-c6390afb.js";import{L as Q,a as W}from"./Table-b9bf0eef.js";import"./_plugin-vue_export-helper-c27b6911.js";const oe=e("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"},null,-1),le={class:"font-semibold text-xl text-gray-800 leading-tight"},ae={class:"py-1"},ne={class:"bg-white grid v-screen place-items-center overflow-x-auto mx-auto sm:px-6 lg:px-8"},ie={key:0,class:"bg-white grid v-screen place-items-center overflow-x-auto mx-auto sm:px-6 lg:px-8"},de={class:"bg-green-100 grid grid-cols-1 sm:grid-cols-2 py-4 px-4 sm:px-8 place-items-center overflow-hidden m-5 shadow-lg rounded-2xl"},re={class:"mt-3 mb-4 flex justify-self-star"},ce={class:"fa-solid fa-plus-circle"},ue={class:"ml-2"},me={class:"mt-3 mb-4"},he=["placeholder"],pe={key:1,class:"bg-white grid v-screen place-items-center"},_e={class:"bg-green-100 grid grid-cols-1 sm:grid-cols-1 py-4 px-4 sm:px-8 place-items-center overflow-hidden m-5 shadow-lg rounded-2xl"},ge={class:"mt-3 mb-4"},fe=["placeholder"],be={key:2},ve={class:"max-w-sm mb-6 text-xs bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700"},ye={class:"flex bg-green-100 pb-2"},ke={class:"ml-2 mt-2"},xe=["src"],we={class:"mt-8 ml-2"},$e={class:"mb-2 mr-2 font-bold tracking-tight text-gray-900 dark:text-white"},Ce={class:"p-5"},Oe={class:"flex"},Me={class:"flex w-1/2"},Ve={class:"mb-2 mr-2 font-bold tracking-tight text-gray-900 dark:text-white"},Ne={class:"flex w-1/2"},Se={class:"mb-2 mr-2 font-bold tracking-tight text-gray-900 dark:text-white"},Te={key:0,style:{color:"red","font-weight":"bold"}},Ue={class:"flex"},Ie={class:"flex w-1/2"},Ee={class:"mb-2 mr-2 font-bold tracking-tight text-gray-900 dark:text-white"},Le={class:"flex w-1/2"},Ae={class:"mb-2 mr-2 font-bold tracking-tight text-gray-900 dark:text-white"},je={class:"flex p-2 bg-blue-100 justify-end"},Be=["onClick"],De=e("i",{class:"fa-solid fa-edit"},null,-1),ze=[De],Ke=["onClick"],Re=e("i",{class:"fa-solid fa-trash"},null,-1),qe=[Re],Fe={key:3},Qe={key:0,class:"bg-white grid v-screen place-items-center overflow-x-auto mx-auto sm:px-6 lg:px-8"},We={class:"px-2 py-2"},Ge={class:"px-2 py-2"},Pe={class:"px-2 py-2"},Ze={class:"px-2 py-2"},He={class:"px-2 py-2"},Je=e("th",{class:"px-2 py-2"},null,-1),Xe=e("th",{class:"px-2 py-2"},null,-1),Ye={class:"border border-gray-400 px-2 py-2"},et={class:"border border-gray-400 px-2 py-2"},tt={class:"border border-gray-400 px-2 py-2"},st={key:0,style:{color:"red","font-weight":"bold"}},ot={class:"border border-gray-400 px-2 py-2"},lt={class:"border border-gray-400 px-2 py-2"},at={class:"border border-gray-400 px-2 py-2"},nt=e("i",{class:"fa-solid fa-edit"},null,-1),it={class:"border border-gray-400 px-2 py-2"},dt=e("i",{class:"fa-solid fa-trash"},null,-1),rt={key:1,class:"bg-white grid v-screen place-items-center overflow-x-auto mx-auto sm:px-6 lg:px-8"},ct={class:"px-2 py-2"},ut={class:"px-2 py-2"},mt={class:"px-2 py-2"},ht={class:"px-2 py-2"},pt={class:"px-2 py-2"},_t=e("th",{class:"px-2 py-2"},null,-1),gt={class:"border border-gray-400 px-2 py-2"},ft={class:"border border-gray-400 px-2 py-2"},bt={class:"border border-gray-400 px-2 py-2"},vt={key:0,style:{color:"red","font-weight":"bold"}},yt={class:"border border-gray-400 px-2 py-2"},kt={class:"border border-gray-400 px-2 py-2"},xt={class:"border border-gray-400 px-2 py-2"},wt=e("i",{class:"fa-solid fa-edit"},null,-1),$t={class:"bg-green-200 p-3 text-lg font.medium text-hray-900 justify-center"},Ct={class:"p-3 mt-6"},Ot={class:"p-3"},Mt={class:"p-3"},Vt={class:"p-3"},Nt={class:"p-3"},St={class:"px-4 pt-2 pb-4"},Tt={class:"fa-solid fa-save"},Ut={class:"ml-2"},It={class:"fa-solid fa-trash"},Et={class:"ml-2"},Gt={__name:"Index",props:{componentes:Object,productos:Object,filters:Object,comp:Object},setup(u){let m=h(u.filters.search);Z(m,s=>{Y.get("/componentes",{search:s},{preserveState:!0,replace:!0})});const S=h(null),$=h(!1),C=h(""),T=h(1),U=h(""),a=j({code:"",name:"",cant:"",ubica:"",stock:""});j({});const I=h(window.innerWidth<=768),E=()=>{I.value=window.innerWidth<=768};H(()=>{window.addEventListener("resize",E)}),J(()=>{window.removeEventListener("resize",E)});const v=(s,n,_,t,k,p,P)=>{$.value=!0,ee(()=>S.value.focus()),T.value=s,U.value=P,s==1?C.value="Crear componente":(C.value="Editar componente",a.code=n,a.name=_,a.cant=t,a.ubica=k,a.stock=p)},O=()=>{$.value=!1,a.reset()};let L=h(null);const M=s=>{L.value=s},G=()=>{const s=L.value;T.value==1?a.post(route("componentes.store"),{onSuccess:()=>{y("Componente creado")}}):a.put(route("componentes.update",U.value),{onSuccess:()=>{s.cant>s.stock?y("Enviar canvan a Anna"):y("Componente actualizado")}})},y=s=>{a.reset(),O(),F.fire({title:s,icon:"success"})},A=(s,n)=>{F.mixin({buttonsStyling:!0}).fire({title:"Estás seguro de eliminar "+n+" ?",icon:"question",showCancelButton:!0,confirmButtonText:'<i class="fa-solid fa-check"></i> Si,eliminar',cancelButtonText:'<i class="fa-solid fa-ban"></i> Cancelar'}).then(t=>{t.isConfirmed&&a.delete(route("componentes.destroy",s),{onSuccess:()=>{y("Componente eliminado")}})})};return(s,n)=>(d(),r(x,null,[l(i(X),{title:s.$t("Components")},{default:c(()=>[oe,V(" /> ")]),_:1},8,["title"]),l(te,null,{header:c(()=>[e("h2",le,o(s.$t("Create and update Components")),1)]),default:c(()=>{var _;return[e("div",ae,[e("div",ne,[s.$page.props.user.permissions.includes("crear componente")?(d(),r("div",ie,[e("div",de,[e("div",re,[l(R,{onClick:n[0]||(n[0]=t=>v(1))},{default:c(()=>[e("i",ce,[e("span",ue,o(s.$t("Add")),1)])]),_:1})]),e("div",me,[B(e("input",{type:"text","onUpdate:modelValue":n[1]||(n[1]=t=>z(m)?m.value=t:m=t),placeholder:s.$t("Search component"),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-60 p-2.5"},null,8,he),[[D,i(m)]])])])])):(d(),r("div",pe,[e("div",_e,[e("div",ge,[B(e("input",{type:"text","onUpdate:modelValue":n[2]||(n[2]=t=>z(m)?m.value=t:m=t),placeholder:s.$t("Search component"),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-60 p-2.5"},null,8,fe),[[D,i(m)]])])])])),I.value?(d(),r("div",be,[(d(!0),r(x,null,N(((_=u.componentes)==null?void 0:_.data)||[],(t,k)=>(d(),r("div",{key:t.id},[e("div",ve,[e("div",ye,[e("a",ke,[e("img",{src:"/storage/img/LOGOR3.png",alt:"logo",width:"100"},null,8,xe)]),e("div",we,[e("p",null,[e("h5",$e,o(s.$t("LOCATION")),1)]),e("p",null,o(t.ubica),1)])]),e("div",Ce,[e("div",Oe,[e("div",Me,[e("p",null,[e("h5",Ve,o(s.$t("CODE")),1)]),e("p",null,o(t.code),1)]),e("div",Ne,[e("p",null,[e("h5",Se,o(s.$t("NAME")),1)]),e("p",null,o(t.name),1)])]),t.cant<=t.stock?(d(),r("span",Te,o(s.$t("¡Canvan!")),1)):w("",!0),e("div",Ue,[e("div",Ie,[e("p",null,[e("h5",Ee,o(s.$t("AMOUNT")),1)]),e("p",null,o(t.cant),1)]),e("div",Le,[e("p",null,[e("h5",Ae,o(s.$t("MINIMUM STOCK")),1)]),e("p",null,o(t.stock),1)])])]),e("div",je,[e("a",{onClick:p=>{M(t),v(2,t.code,t.name,t.cant,t.ubica,t.stock,t.id)},class:"inline-flex items-center px-3 py-2 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},ze,8,Be),s.$page.props.user.permissions.includes("eliminar componente")?(d(),r("a",{key:0,onClick:p=>A(t.id,t.name),class:"inline-flex ml-10 items-center px-3 py-2 text-sm font-medium text-center text-white bg-red-700 rounded-lg hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800"},qe,8,Ke)):w("",!0)])])]))),128))])):(d(),r("div",Fe,[s.$page.props.user.permissions.includes("eliminar componente")?(d(),r("div",Qe,[l(Q,null,{col:c(()=>[e("th",We,o(s.$t("CODE")),1),e("th",Ge,o(s.$t("NAME")),1),e("th",Pe,o(s.$t("AMOUNT")),1),e("th",Ze,o(s.$t("LOCATION")),1),e("th",He,o(s.$t("MINIMUM STOCK")),1),Je,Xe]),row:c(()=>[(d(!0),r(x,null,N(u.componentes.data,(t,k)=>(d(),r("tr",{key:t.id,class:"text-gray-500 hover:bg-green-200"},[e("td",Ye,o(t.code),1),e("td",et,o(t.name),1),e("td",tt,[V(o(t.cant)+" ",1),t.cant<t.stock?(d(),r("span",st,"¡Canvan!")):w("",!0)]),e("td",ot,o(t.ubica),1),e("td",lt,o(t.stock),1),e("td",at,[l(q,{onClick:p=>{M(t),v(2,t.code,t.name,t.cant,t.ubica,t.stock,t.id)}},{default:c(()=>[nt]),_:2},1032,["onClick"])]),e("td",it,[l(K,{onClick:p=>A(t.id,t.name)},{default:c(()=>[dt]),_:2},1032,["onClick"])])]))),128))]),pagination:c(()=>[l(W,{total:u.componentes.total,to:u.componentes.to,from:u.componentes.from,links:u.componentes.links},null,8,["total","to","from","links"])]),_:1})])):(d(),r("div",rt,[l(Q,null,{col:c(()=>[e("th",ct,o(s.$t("CODE")),1),e("th",ut,o(s.$t("NAME")),1),e("th",mt,o(s.$t("AMOUNT")),1),e("th",ht,o(s.$t("LOCATION")),1),e("th",pt,o(s.$t("MINIMUM STOCK")),1),_t]),row:c(()=>[(d(!0),r(x,null,N(u.componentes.data,(t,k)=>(d(),r("tr",{key:t.id,class:"text-gray-500 hover:bg-green-200"},[e("td",gt,o(t.code),1),e("td",ft,o(t.name),1),e("td",bt,[V(o(t.cant)+" ",1),t.cant<=t.stock?(d(),r("span",vt,"¡Canvan!")):w("",!0)]),e("td",yt,o(t.ubica),1),e("td",kt,o(t.stock),1),e("td",xt,[l(q,{onClick:p=>{M(t),v(2,t.code,t.name,t.cant,t.ubica,t.stock,t.id)}},{default:c(()=>[wt]),_:2},1032,["onClick"])])]))),128))]),pagination:c(()=>[l(W,{total:u.componentes.total,to:u.componentes.to,from:u.componentes.from,links:u.componentes.links},null,8,["total","to","from","links"])]),_:1})]))]))])]),l(se,{show:$.value,onClose:O},{default:c(()=>[e("h2",$t,o(C.value),1),e("div",Ct,[l(b,{for:"code",value:s.$t("Code")},null,8,["value"]),l(g,{id:"code",ref:"codeInput",modelValue:i(a).code,"onUpdate:modelValue":n[3]||(n[3]=t=>i(a).code=t),type:"text",class:"mt-1 block w-3/4",placeholder:s.$t("Code")},null,8,["modelValue","placeholder"]),l(f,{message:i(a).errors.code,class:"mt-2"},null,8,["message"])]),e("div",Ot,[l(b,{for:"name",value:s.$t("Name")},null,8,["value"]),l(g,{id:"name",ref_key:"nameInput",ref:S,modelValue:i(a).name,"onUpdate:modelValue":n[4]||(n[4]=t=>i(a).name=t),type:"text",class:"mt-1 block w-3/4",placeholder:s.$t("Name")},null,8,["modelValue","placeholder"]),l(f,{message:i(a).errors.name,class:"mt-2"},null,8,["message"])]),e("div",Mt,[l(b,{for:"cant",value:s.$t("Quantity")},null,8,["value"]),l(g,{id:"cant",modelValue:i(a).cant,"onUpdate:modelValue":n[5]||(n[5]=t=>i(a).cant=t),type:"text",class:"mt-1 block w-3/4",placeholder:s.$t("Quantity")},null,8,["modelValue","placeholder"]),l(f,{message:i(a).errors.cant,class:"mt-2"},null,8,["message"])]),e("div",Vt,[l(b,{for:"ubica",value:s.$t("Location")},null,8,["value"]),l(g,{id:"ubica",modelValue:i(a).ubica,"onUpdate:modelValue":n[6]||(n[6]=t=>i(a).ubica=t),type:"text",class:"mt-1 block w-3/4",placeholder:s.$t("Location")},null,8,["modelValue","placeholder"]),l(f,{message:i(a).errors.ubica,class:"mt-2"},null,8,["message"])]),e("div",Nt,[l(b,{for:"stock",value:s.$t("Minimum Stock")},null,8,["value"]),l(g,{id:"stock",modelValue:i(a).stock,"onUpdate:modelValue":n[7]||(n[7]=t=>i(a).stock=t),type:"text",class:"mt-1 block w-3/4",placeholder:s.$t("Minimum Stock")},null,8,["modelValue","placeholder"]),l(f,{message:i(a).errors.stock,class:"mt-2"},null,8,["message"])]),e("div",St,[l(R,{disabled:i(a).processing,onClick:G},{default:c(()=>[e("i",Tt,[e("span",Ut,o(s.$t("Save")),1)])]),_:1},8,["disabled"]),l(K,{class:"ml-3",disabled:i(a).processing,onClick:O},{default:c(()=>[e("i",It,[e("span",Et,o(s.$t("Cancel")),1)])]),_:1},8,["disabled"])])]),_:1},8,["show"])]}),_:1})],64))}};export{Gt as default};
