import{p as W,b as e,q as X,o as d,c as g,i as y,f,F as S,h as O,t as n,l as T,s as B,x as Y,y as ee,d as v,z as te,T as L,e as m,w as u,u as i,g as j,Z as se,a as s,A as U,O as oe,m as ae}from"./app-ccad9738.js";import{_ as ne}from"./AppLayout-923caf08.js";import{_ as D}from"./DangerButton-54921447.js";import{_,a as x}from"./TextInput-d416f9f7.js";import{_ as k}from"./InputLabel-539c5647.js";import{_ as F}from"./PrimaryButton-6a890283.js";import{_ as R}from"./WarningButton-47c78ba0.js";import{_ as re}from"./Modal-7d27a9f8.js";import{S as G}from"./sweetalert2.all-c36eb22a.js";import{L as q,a as z}from"./Table-60eff0f5.js";import"./_plugin-vue_export-helper-c27b6911.js";var K=Y({name:"Vue Tailwind Pagination",props:{current:{type:Number,default:1},total:{type:Number,default:0},perPage:{type:Number,default:9},pageRange:{type:Number,default:2},textBeforeInput:{type:String,default:"Go to page"},textAfterInput:{type:String,default:"Go"}},data:()=>({input:""}),methods:{hasFirst:function(){return this.rangeStart!==1},hasLast:function(){return this.rangeEnd<this.totalPages},hasPrev:function(){return this.current>1},hasNext:function(){return this.current<this.totalPages},changePage:function(o){o>0&&o<=this.totalPages&&this.$emit("page-changed",o)}},computed:{pages:function(){for(var o=[],c=this.rangeStart;c<=this.rangeEnd;c++)o.push(c);return o},rangeStart:function(){var o=this.current-this.pageRange;return o>0?o:1},rangeEnd:function(){var o=this.current+this.pageRange;return o<this.totalPages?o:this.totalPages},totalPages:function(){return Math.ceil(this.total/this.perPage)},nextPage:function(){return this.current+1},prevPage:function(){return this.current-1}}});const le=ee();W("data-v-00d7790c");const ie={class:"min-w-max"},de={class:"flex justify-between bg-white rounded-lg border border-gray-200 px-10 py-3 text-gray-700 font-montserrat"},ce={class:"flex items-center"},ue={key:0,class:"pr-6"},pe=e("div",{class:"flex items-center justify-center hover:bg-gray-200 rounded-md transform rotate-45 h-6 w-6"},[e("div",{class:"transform -rotate-45"},[e("svg",{class:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})])])],-1),me={key:1,class:"pr-6"},he=e("div",{class:"flex hover:bg-gray-200 rounded-md transform rotate-45 h-6 w-6 items-center justify-center"},[e("span",{class:"transform -rotate-45"}," 1 ")],-1),ge={key:2,class:"pr-6"},fe={class:"pr-6"},ve={class:"transform -rotate-45"},ye={key:3,class:"pr-6"},be={key:4,class:"pr-6"},_e={class:"flex hover:bg-gray-200 rounded-md transform rotate-45 h-6 w-6 items-center justify-center"},xe={class:"transform -rotate-45"},ke={key:5,class:"pr-6"},we=e("div",{class:"flex items-center justify-center hover:bg-gray-200 rounded-md transform rotate-45 h-6 w-6"},[e("div",{class:"transform -rotate-45"},[e("svg",{class:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])])],-1),Ce={class:"flex items-center"},$e={class:"pr-2 text-gray-400 font-medium"},Pe={id:"text-before-input"},Se={class:"w-14 rounded-md border border-indigo-400 px-1 py-1"},Ve={id:"text-after-input"},Me=e("svg",{class:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1);X();const Ne=le((o,c,h,V,w,C)=>(d(),g("div",ie,[e("section",de,[e("ul",ce,[o.hasPrev()?(d(),g("li",ue,[e("a",{href:"#",onClick:c[1]||(c[1]=y(p=>o.changePage(o.prevPage),["prevent"]))},[pe])])):f("",!0),o.hasFirst()?(d(),g("li",me,[e("a",{href:"#",onClick:c[2]||(c[2]=y(p=>o.changePage(1),["prevent"]))},[he])])):f("",!0),o.hasFirst()?(d(),g("li",ge,"...")):f("",!0),(d(!0),g(S,null,O(o.pages,p=>(d(),g("li",fe,[e("a",{href:"#",onClick:y(M=>o.changePage(p),["prevent"])},[e("div",{class:[{"bg-gradient-to-r from-blue-400 to-indigo-400":o.current==p},"flex hover:bg-gray-200 rounded-md transform rotate-45 h-6 w-6 items-center justify-center"]},[e("span",ve,n(p),1)],2)],8,["onClick"])]))),256)),o.hasLast()?(d(),g("li",ye,"...")):f("",!0),o.hasLast()?(d(),g("li",be,[e("a",{href:"#",onClick:c[3]||(c[3]=y(p=>o.changePage(o.totalPages),["prevent"]))},[e("div",_e,[e("span",xe,n(o.totalPages),1)])])])):f("",!0),o.hasNext()?(d(),g("li",ke,[e("a",{href:"#",onClick:c[4]||(c[4]=y(p=>o.changePage(o.nextPage),["prevent"]))},[we])])):f("",!0)]),e("div",Ce,[e("div",$e,[e("span",Pe,n(o.textBeforeInput),1)]),e("div",Se,[T(e("input",{"onUpdate:modelValue":c[5]||(c[5]=p=>o.input=p),class:"w-12 focus:outline-none px-2",type:"text"},null,512),[[B,o.input,void 0,{number:!0}]])]),e("div",{onClick:c[6]||(c[6]=y(p=>o.changePage(o.input),["prevent"])),class:"flex items-center pl-4 font-medium cursor-pointer"},[e("span",Ve,n(o.textAfterInput),1),Me])])])])));K.render=Ne,K.__scopeId="data-v-00d7790c";const Ie=s("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"},null,-1),je={class:"font-semibold text-xl text-gray-800 leading-tight"},Oe={class:"py-1"},Te={key:0,class:"bg-white grid v-screen place-items-center overflow-x-auto mx-auto sm:px-6 lg:px-8"},Be={class:"bg-green-100 grid grid-cols-1 sm:grid-cols-2 py-4 px-4 sm:px-8 place-items-center overflow-hidden m-5 shadow-lg rounded-2xl"},Ae={class:"mt-3 mb-4"},Ee=["placeholder"],Le={class:"mt-3 mb-4 flex justify-self-end"},Ue={class:"fa-solid fa-plus-circle"},De={class:"ml-2"},Fe={key:1,class:"bg-white grid v-screen place-items-center"},Re={class:"bg-green-100 grid grid-cols-1 sm:grid-cols-1 py-4 px-4 sm:px-8 place-items-center overflow-hidden m-5 shadow-lg rounded-2xl"},Ge={class:"mt-3 mb-4"},qe=["placeholder"],ze={key:2,class:"bg-white grid v-screen place-items-center overflow-x-auto mx-auto sm:px-6 lg:px-8"},Ke={class:"px-2 py-2"},Qe={class:"px-2 py-2"},Ze={class:"px-2 py-2"},He={class:"px-2 py-2"},Je={class:"px-2 py-2"},We=s("th",{class:"px-2 py-2"},null,-1),Xe=s("th",{class:"px-2 py-2"},null,-1),Ye={class:"border border-gray-400 px-2 py-2"},et={class:"border border-gray-400 px-2 py-2"},tt={class:"border border-gray-400 px-2 py-2"},st={key:0,style:{color:"red","font-weight":"bold"}},ot={class:"border border-gray-400 px-2 py-2"},at={class:"border border-gray-400 px-2 py-2"},nt={class:"border border-gray-400 px-2 py-2"},rt=s("i",{class:"fa-solid fa-edit"},null,-1),lt={class:"border border-gray-400 px-2 py-2"},it=s("i",{class:"fa-solid fa-trash"},null,-1),dt={key:3,class:"bg-white grid v-screen place-items-center overflow-x-auto mx-auto sm:px-6 lg:px-8"},ct={class:"px-2 py-2"},ut={class:"px-2 py-2"},pt={class:"px-2 py-2"},mt={class:"px-2 py-2"},ht={class:"px-2 py-2"},gt=s("th",{class:"px-2 py-2"},null,-1),ft={class:"border border-gray-400 px-2 py-2"},vt={class:"border border-gray-400 px-2 py-2"},yt={class:"border border-gray-400 px-2 py-2"},bt={key:0,style:{color:"red","font-weight":"bold"}},_t={class:"border border-gray-400 px-2 py-2"},xt={class:"border border-gray-400 px-2 py-2"},kt={class:"border border-gray-400 px-2 py-2"},wt=s("i",{class:"fa-solid fa-edit"},null,-1),Ct={class:"bg-green-200 p-3 text-lg font.medium text-hray-900 justify-center"},$t={class:"p-3 mt-6"},Pt={class:"p-3"},St={class:"p-3"},Vt={class:"p-3"},Mt={class:"p-3"},Nt={class:"px-4 pt-2 pb-4"},It={class:"fa-solid fa-save"},jt={class:"ml-2"},Ot={class:"fa-solid fa-trash"},Tt={class:"ml-2"},Kt={__name:"Index",props:{componentes:Object,productos:Object,filters:Object,comp:Object},setup(o){let h=v(o.filters.search);te(h,a=>{oe.get("/componentes",{search:a},{preserveState:!0,replace:!0})});const V=v(null),w=v(!1),C=v(""),p=v(1),M=v(""),r=L({code:"",name:"",cant:"",ubica:"",stock:""});L({});const N=(a,l,t,b,P,H,J)=>{w.value=!0,ae(()=>V.value.focus()),p.value=a,M.value=J,a==1?C.value="Crear componente":(C.value="Editar componente",r.code=l,r.name=t,r.cant=b,r.ubica=P,r.stock=H)},I=()=>{w.value=!1,r.reset()};let A=v(null);const E=a=>{A.value=a},Q=()=>{const a=A.value;p.value==1?r.post(route("componentes.store"),{onSuccess:()=>{$("Componente creado")}}):r.put(route("componentes.update",M.value),{onSuccess:()=>{a.cant>a.stock?$("Enviar canvan a Anna"):$("Componente actualizado")}})},$=a=>{r.reset(),I(),G.fire({title:a,icon:"success"})},Z=(a,l)=>{G.mixin({buttonsStyling:!0}).fire({title:"Estás seguro de eliminar "+l+" ?",icon:"question",showCancelButton:!0,confirmButtonText:'<i class="fa-solid fa-check"></i> Si,eliminar',cancelButtonText:'<i class="fa-solid fa-ban"></i> Cancelar'}).then(b=>{b.isConfirmed&&r.delete(route("componentes.destroy",a),{onSuccess:()=>{$("Componente eliminado")}})})};return(a,l)=>(d(),m(S,null,[e(i(se),{title:a.$t("Components")},{default:u(()=>[Ie,j(" /> ")]),_:1},8,["title"]),e(ne,null,{header:u(()=>[s("h2",je,n(a.$t("Create and update Components")),1)]),default:u(()=>[s("div",Oe,[a.$page.props.user.permissions.includes("crear componente")?(d(),m("div",Te,[s("div",Be,[s("div",Ae,[T(s("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=t=>U(h)?h.value=t:h=t),placeholder:a.$t("Search component"),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-60 p-2.5"},null,8,Ee),[[B,i(h)]])]),s("div",Le,[e(F,{onClick:l[1]||(l[1]=t=>N(1))},{default:u(()=>[s("i",Ue,[s("span",De,n(a.$t("Add")),1)])]),_:1})])])])):(d(),m("div",Fe,[s("div",Re,[s("div",Ge,[T(s("input",{type:"text","onUpdate:modelValue":l[2]||(l[2]=t=>U(h)?h.value=t:h=t),placeholder:a.$t("Search component"),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-60 p-2.5"},null,8,qe),[[B,i(h)]])])])])),a.$page.props.user.permissions.includes("eliminar componente")?(d(),m("div",ze,[e(q,null,{col:u(()=>[s("th",Ke,n(a.$t("CODE")),1),s("th",Qe,n(a.$t("NAME")),1),s("th",Ze,n(a.$t("AMOUNT")),1),s("th",He,n(a.$t("LOCATION")),1),s("th",Je,n(a.$t("MINIMUM STOCK")),1),We,Xe]),row:u(()=>[(d(!0),m(S,null,O(o.componentes.data,(t,b)=>(d(),m("tr",{key:t.id,class:"text-gray-500 hover:bg-green-200"},[s("td",Ye,n(t.code),1),s("td",et,n(t.name),1),s("td",tt,[j(n(t.cant)+" ",1),t.cant<t.stock?(d(),m("span",st,"¡Canvan!")):f("",!0)]),s("td",ot,n(t.ubica),1),s("td",at,n(t.stock),1),s("td",nt,[e(R,{onClick:P=>{E(t),N(2,t.code,t.name,t.cant,t.ubica,t.stock,t.id)}},{default:u(()=>[rt]),_:2},1032,["onClick"])]),s("td",lt,[e(D,{onClick:P=>Z(t.id,t.name)},{default:u(()=>[it]),_:2},1032,["onClick"])])]))),128))]),pagination:u(()=>[e(z,{total:o.componentes.total,to:o.componentes.to,from:o.componentes.from,links:o.componentes.links},null,8,["total","to","from","links"])]),_:1})])):(d(),m("div",dt,[e(q,null,{col:u(()=>[s("th",ct,n(a.$t("CODE")),1),s("th",ut,n(a.$t("NAME")),1),s("th",pt,n(a.$t("AMOUNT")),1),s("th",mt,n(a.$t("LOCATION")),1),s("th",ht,n(a.$t("MINIMUM STOCK")),1),gt]),row:u(()=>[(d(!0),m(S,null,O(o.componentes.data,(t,b)=>(d(),m("tr",{key:t.id,class:"text-gray-500 hover:bg-green-200"},[s("td",ft,n(t.code),1),s("td",vt,n(t.name),1),s("td",yt,[j(n(t.cant)+" ",1),t.cant<=t.stock?(d(),m("span",bt,"¡Canvan!")):f("",!0)]),s("td",_t,n(t.ubica),1),s("td",xt,n(t.stock),1),s("td",kt,[e(R,{onClick:P=>{E(t),N(2,t.code,t.name,t.cant,t.ubica,t.stock,t.id)}},{default:u(()=>[wt]),_:2},1032,["onClick"])])]))),128))]),pagination:u(()=>[e(z,{total:o.componentes.total,to:o.componentes.to,from:o.componentes.from,links:o.componentes.links},null,8,["total","to","from","links"])]),_:1})]))]),e(re,{show:w.value,onClose:I},{default:u(()=>[s("h2",Ct,n(C.value),1),s("div",$t,[e(k,{for:"code",value:a.$t("Code")},null,8,["value"]),e(_,{id:"code",ref:"codeInput",modelValue:i(r).code,"onUpdate:modelValue":l[3]||(l[3]=t=>i(r).code=t),type:"text",class:"mt-1 block w-3/4",placeholder:a.$t("Code")},null,8,["modelValue","placeholder"]),e(x,{message:i(r).errors.code,class:"mt-2"},null,8,["message"])]),s("div",Pt,[e(k,{for:"name",value:a.$t("Name")},null,8,["value"]),e(_,{id:"name",ref_key:"nameInput",ref:V,modelValue:i(r).name,"onUpdate:modelValue":l[4]||(l[4]=t=>i(r).name=t),type:"text",class:"mt-1 block w-3/4",placeholder:a.$t("Name")},null,8,["modelValue","placeholder"]),e(x,{message:i(r).errors.name,class:"mt-2"},null,8,["message"])]),s("div",St,[e(k,{for:"cant",value:a.$t("Quantity")},null,8,["value"]),e(_,{id:"cant",modelValue:i(r).cant,"onUpdate:modelValue":l[5]||(l[5]=t=>i(r).cant=t),type:"text",class:"mt-1 block w-3/4",placeholder:a.$t("Quantity")},null,8,["modelValue","placeholder"]),e(x,{message:i(r).errors.cant,class:"mt-2"},null,8,["message"])]),s("div",Vt,[e(k,{for:"ubica",value:a.$t("Location")},null,8,["value"]),e(_,{id:"ubica",modelValue:i(r).ubica,"onUpdate:modelValue":l[6]||(l[6]=t=>i(r).ubica=t),type:"text",class:"mt-1 block w-3/4",placeholder:a.$t("Location")},null,8,["modelValue","placeholder"]),e(x,{message:i(r).errors.ubica,class:"mt-2"},null,8,["message"])]),s("div",Mt,[e(k,{for:"stock",value:a.$t("Minimum Stock")},null,8,["value"]),e(_,{id:"stock",modelValue:i(r).stock,"onUpdate:modelValue":l[7]||(l[7]=t=>i(r).stock=t),type:"text",class:"mt-1 block w-3/4",placeholder:a.$t("Minimum Stock")},null,8,["modelValue","placeholder"]),e(x,{message:i(r).errors.stock,class:"mt-2"},null,8,["message"])]),s("div",Nt,[e(F,{disabled:i(r).processing,onClick:Q},{default:u(()=>[s("i",It,[s("span",jt,n(a.$t("Save")),1)])]),_:1},8,["disabled"]),e(D,{class:"ml-3",disabled:i(r).processing,onClick:I},{default:u(()=>[s("i",Ot,[s("span",Tt,n(a.$t("Cancel")),1)])]),_:1},8,["disabled"])])]),_:1},8,["show"])]),_:1})],64))}};export{Kt as default};
